<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>jQuery : Exercice 20</title>
		<link rel="stylesheet" href="../src/styles.css">
		<script src="../jquery.js"></script>
		<script>
			/*********************************
			***********PRESENTATION***********
			**********************************
				La méthode animate() permet de créer une animation un élément en modifiant les propriétés css indiquées. Cela agit uniquement sur les propriétés css qui ont une valeur numérique.

				Par exemple, un changement de taille de police et d'opacité pour un paragraphe en 800 millisecondes :
				$('p').animate({opacity:0.5,fontSize:'2em'},800);

				La méthode delay() permet d'introduire une pause avant de continuer l'exécution du code, ici 2 secondes :

				$('#truc').delay(2000).hide();

				Quand vous ciblez plusieurs éléments, vous pouvez conserver uniquement le premier avec first(). Si vous ciblez un seul élément, vous pouvez cibler le suivant (balise voisine dans le même conteneur) avec next().
			*/

			/**********************************
			*************EXERCICES*************
			***********************************
			** 1 **
				Reprenez le code de l'exercice précédent.
				À la fin du chargement du document, prévoyez le script suivant :
				Les
				Après trois secondes, les images changent de taille et d'opacité en une seconde.

				Utilisez les méthodes delay() et animate().
			*/
			$(function(){
				// $('img').delay(3000).animate({width:100,opacity:0.3},1000);
			/*
			** 2 **
				Pour l'instant, l'animation s'applique aux trois images en même temps. D'une part, il est possible d'exécuter une fonction à la fin de nombreuses méthodes jQuery dont animate(); d'autre part, on peut sélectionner un seul élément avec la méthode first() puis chaque élément qui suit avec next().
				Animez successivement en deux secondes les images.

				Utilisez les méthodes delay(), first(), animate() et next(). Utilisez le principe de récursivité (une fonction qui s'appelle elle-même).
			*/
				const animation = function($cible) {
					$cible.delay(2000).animate({width:100,opacity:0.3},1000,function() {
						if ($(this).next().length) {
							animation($(this).next());
						}
					});
				};

				animation($('img').first());
			});
			</script>
			<style>
            .conteneur {
				text-align: center;
				width: 100%;
            }
      
            img {
				display: inline-block;
				width: 300px;
            }
          </style>
  	</head>
  	<body>
      <div class="conteneur">
          <img id="image1" src="paysage-1.jpg" alt="Paysage">
          <img id="image2" src="paysage-2.jpg" alt="Paysage">
          <img id="image3" src="paysage-3.jpg" alt="Paysage">
      </div>
		<noscript>
			<p>Veuillez activer JavaScript</p>
		</noscript>
	</body>
</html>
